meta {
  name: ListTransactions
  type: http
  seq: 2
}

get {
  url: {{baseUrl}}/transactions?limit=10&offset=0
  body: none
  auth: inherit
}

params:query {
  limit: 10
  offset: 0
}

script:post-response {
  test("An access token is returned", () => {
      expect(res.getBody()).to.have.property('token')
      expect(res.getBody().token).to.be.a('string')
      // Set the collection-scope "token" variable to the token received from the API
      // This lets us use it in other requests
      bru.setVar('token', res.getBody().token)
  })
  
}

settings {
  encodeUrl: true
}

docs {
  This returns a `token` that you can use to retrieve information later on.
  
  We have included a test to confirm if a token is returned. We have also added test scripts to copy the token to the `token` collection variable. This makes it easy for us to reuse this token in other requests in the collection.
}
